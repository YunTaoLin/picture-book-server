{"version":3,"sources":["webpack:///./src/components/List.vue?4503","webpack:///./src/components/Item.vue?ad75","webpack:///src/components/Item.vue","webpack:///./src/components/Item.vue?ede8","webpack:///./src/components/Item.vue","webpack:///src/components/List.vue","webpack:///./src/components/List.vue?1f13","webpack:///./src/components/List.vue","webpack:///./node_modules/core-js/modules/es.array.sort.js","webpack:///./src/components/Item.vue?756a","webpack:///./src/components/List.vue?9e96","webpack:///./src/views/Commodity/Elementary.vue?7826","webpack:///src/views/Commodity/Elementary.vue","webpack:///./src/views/Commodity/Elementary.vue?810b","webpack:///./src/views/Commodity/Elementary.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","banner","_v","_s","title","directives","name","rawName","value","expression","on","$event","$$selectedVal","Array","prototype","filter","call","target","options","o","selected","map","val","_value","sort","multiple","sortList","list","length","_l","item","key","_id","showToast","_e","$store","state","user","toastContent_login","staticRenderFns","commodity","img","classify","ori_price","sale_price","class","active","isLike","like","isCart","addCart","props","type","data","methods","$emit","commit","dispatch","commodity_id","console","log","id","number","checked","localStorage","setItem","created","component","components","a","create_time","b","e","toastContent_like","setTimeout","toastContent_dislike","toastContent_cart","getters","$route","$","aFunction","toObject","fails","sloppyArrayMethod","test","nativeSort","FAILS_ON_UNDEFINED","undefined","FAILS_ON_NULL","SLOPPY_METHOD","FORCED","proto","forced","comparefn"],"mappings":"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","file":"js/chunk-305c33ba.8e7ce988.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrapper\"},[_c('div',{staticClass:\"banner\"},[_c('img',{attrs:{\"src\":_vm.banner,\"alt\":\"\"}}),_c('div',{staticClass:\"title\"},[_c('p',[_vm._v(_vm._s(_vm.title))])])]),_c('div',{staticClass:\"filter_bar\"},[_c('div',{staticClass:\"sort\"},[_vm._v(\" 排序方式： \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.sort),expression:\"sort\"}],on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.sort=$event.target.multiple ? $$selectedVal : $$selectedVal[0]},function($event){return _vm.sortList(_vm.sort)}]}},[_c('option',{attrs:{\"value\":\"1\"}},[_vm._v(\"依上架時間（ 由新到舊 ）\")]),_c('option',{attrs:{\"value\":\"2\"}},[_vm._v(\"由舊到新排列\")]),_c('option',{attrs:{\"value\":\"3\"}},[_vm._v(\"價格高到低排列\")]),_c('option',{attrs:{\"value\":\"4\"}},[_vm._v(\"價格低到高排列\")])])]),_c('div',{staticClass:\"showHowMany\"},[_vm._v(\" 搜尋商品數量： \"),_c('span',[_vm._v(_vm._s(_vm.list.length))]),_vm._v(\"筆 \")])]),_c('div',{staticClass:\"list\"},[_c('div',{staticClass:\"row\"},_vm._l((_vm.list),function(item){return _c('div',{key:item._id,staticClass:\"col-4\"},[_c('item',{attrs:{\"commodity\":item},on:{\"like\":function($event){return _vm.showToast($event)}}})],1)}),0)]),(_vm.toastContent_like)?_c('div',{staticClass:\"myToast\"},[_c('p',[_vm._v(\"已追蹤該商品\")])]):_vm._e(),(_vm.toastContent_dislike)?_c('div',{staticClass:\"myToast\"},[_c('p',[_vm._v(\"已取消追蹤\")])]):_vm._e(),(_vm.toastContent_cart)?_c('div',{staticClass:\"myToast cart\"},[_c('p',[_vm._v(\"已將商品加入購物車\"),_c('br'),(!_vm.$store.state.user._id)?_c('span',[_vm._v(\"提醒您：登入後才可保存購物車內的資料\")]):_vm._e()])]):_vm._e(),(_vm.toastContent_login)?_c('div',{staticClass:\"myToast noFadeOut\"},[_c('p',[_vm._v(\"登入後才可以追蹤商品喔\")]),_c('div',{staticClass:\"group\"},[_c('router-link',{attrs:{\"to\":\"/login\"}},[_vm._v(\"前往登入\")]),_c('a',{attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){_vm.toastContent_login = false}}},[_vm._v(\"繼續保持訪客狀態\")])],1)]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"myCard\"},[_c('div',{staticClass:\"pic\"},[_c('router-link',{attrs:{\"to\":'/detail/'+_vm.commodity._id}},[_c('img',{attrs:{\"src\":_vm.commodity.img,\"alt\":\"商品圖片\"}})])],1),_c('div',{staticClass:\"classify\"},[_vm._v(\" \"+_vm._s(_vm.classify(_vm.commodity.classify))+\" \")]),_c('div',{staticClass:\"title mb-2\"},[_c('router-link',{attrs:{\"to\":'/detail/'+_vm.commodity._id}},[_vm._v(\" \"+_vm._s(_vm.commodity.title)+\" \")])],1),_c('div',{staticClass:\"group\"},[_c('div',{staticClass:\"price\"},[_c('div',{staticClass:\"ori_pricee\"},[_vm._v(\" 原價：$ \"),_c('span',[_vm._v(_vm._s(_vm.commodity.ori_price))])]),_c('div',{staticClass:\"sale_price\"},[_vm._v(\" NT$ \"),_c('span',[_vm._v(_vm._s(_vm.commodity.sale_price))])])]),_c('div',{staticClass:\"control_bar\"},[_c('div',{staticClass:\"like\"},[(_vm.isLike)?_c('a',{class:{active:_vm.isLike},attrs:{\"href\":\"javascript:;\",\"title\":\"取消追蹤\"},on:{\"click\":_vm.like}},[_c('i',{staticClass:\"fa fa-heart\",attrs:{\"aria-hidden\":\"true\"}})]):_c('a',{attrs:{\"href\":\"javascript:;\",\"title\":\"追蹤商品\"},on:{\"click\":_vm.like}},[_c('i',{staticClass:\"fa fa-heart-o\",attrs:{\"aria-hidden\":\"true\"}})])]),_c('div',{staticClass:\"cart\"},[_c('a',{class:{active:_vm.isCart},attrs:{\"href\":\"javascript:;\",\"title\":\"加入購物車\"},on:{\"click\":_vm.addCart}},[_c('i',{staticClass:\"fa fa-cart-plus\",attrs:{\"aria-hidden\":\"true\"}})])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n   <div class=\"myCard\">\r\n      <div class=\"pic\">\r\n        <router-link :to=\"'/detail/'+commodity._id\">\r\n          <img :src=\"commodity.img\" alt=\"商品圖片\">\r\n        </router-link>\r\n      </div>\r\n      <div class=\"classify\">\r\n        {{classify(commodity.classify)}}\r\n      </div>\r\n      <div class=\"title mb-2\">\r\n        <router-link :to=\"'/detail/'+commodity._id\">\r\n        {{commodity.title}}\r\n        </router-link>\r\n      </div>\r\n      <div class=\"group\">\r\n        <div class=\"price\">\r\n          <div class=\"ori_pricee\">\r\n            原價：$ <span>{{commodity.ori_price}}</span>\r\n          </div>\r\n          <div class=\"sale_price\">\r\n            NT$ <span>{{commodity.sale_price}}</span>\r\n          </div>\r\n        </div>\r\n        <div class=\"control_bar\">\r\n          <div class=\"like\">\r\n            <a href=\"javascript:;\" v-if=\"isLike\" @click=\"like\" :class=\"{active:isLike}\" title=\"取消追蹤\"><i class=\"fa fa-heart\" aria-hidden=\"true\"></i></a>\r\n            <a href=\"javascript:;\" v-else @click=\"like\" title=\"追蹤商品\"><i class=\"fa fa-heart-o\" aria-hidden=\"true\"></i></a>\r\n          </div>\r\n          <div class=\"cart\">\r\n            <a href=\"javascript:;\" @click=\"addCart\"  :class=\"{active:isCart}\" title=\"加入購物車\" ><i class=\"fa fa-cart-plus\" aria-hidden=\"true\" ></i></a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n     </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props:{\r\n    commodity:{\r\n      type:Object\r\n    }\r\n  },\r\n  data(){\r\n    return {\r\n      isLike:false,\r\n      isCart:false\r\n    }\r\n  },\r\n  methods:{\r\n    like(){\r\n      //先檢查是否有登入\r\n      if(this.$store.state.user._id){\r\n        this.isLike= !this.isLike;\r\n        if(this.isLike){\r\n          this.$emit('like','1')\r\n          //先修改本地端\r\n          this.$store.commit('addUserLike',this.commodity._id)\r\n          //再更新資料庫\r\n          this.$store.dispatch('a_like',{\r\n            user:this.$store.state.user,\r\n            commodity_id:this.commodity._id\r\n          })\r\n        }else{\r\n          this.$emit('like','2')\r\n          this.$store.commit('removeUserLike',this.commodity._id)\r\n          this.$store.dispatch('a_dislike',{\r\n            user:this.$store.state.user,\r\n            commodity_id:this.commodity._id\r\n          })\r\n        }\r\n      }else{\r\n        this.$emit('like','3')\r\n      }\r\n      \r\n    },\r\n    classify(type){\r\n      let classify\r\n      switch(type){\r\n        case -1:\r\n          classify='當季特賣'\r\n          break;\r\n        case 0:\r\n          classify='幼兒繪本'\r\n          break;\r\n        case 1:\r\n          classify= '兒童繪本'\r\n          break;\r\n        case 2:\r\n          classify='少年繪本'\r\n          break;\r\n        case 3:\r\n          classify='其他周邊'\r\n      }\r\n      return classify\r\n    },\r\n    addCart(){\r\n      //先更新本地端\r\n      console.log('addcart')\r\n      this.$store.commit('addCart',{\r\n        id:this.commodity._id,\r\n        number:1,\r\n        checked:true\r\n      })\r\n      localStorage.setItem('cart',JSON.stringify(this.$store.state.cart))\r\n      //若有登入舊更新遠端\r\n      if(this.$store.state.user._id){\r\n        this.$store.dispatch('a_updateCart')\r\n      }\r\n      this.$emit('like','4')\r\n      this.isCart=true;\r\n    }\r\n  },\r\n  created(){\r\n    if(this.$store.state.user._id){\r\n      if(this.$store.state.user.like.some(item=>{return item ==this.commodity._id})){\r\n        this.isLike = true;\r\n      }\r\n    }\r\n    if(this.$store.state.cart.some(item=>{return item.id ==this.commodity._id})){\r\n        this.isCart = true;\r\n    }\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '@/assets/scss/_base.scss';\r\n.myCard{\r\n  width: 100%;\r\n  padding: 12px 20px 8px;\r\n  margin-bottom: 8px;\r\n  position: relative;\r\n  border: 1px solid #dfdfdf;\r\n  .pic{\r\n    width: 100%;\r\n    padding-top: 110%;\r\n    position: relative;\r\n    overflow: hidden;\r\n    img{\r\n      width: 100%;\r\n      height: 100%;\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      object-fit: cover;\r\n      transition: .5s;\r\n      &:hover{\r\n        transform: scale(1.1);\r\n      }\r\n    }\r\n  }\r\n  .classify{\r\n    border-bottom: 1px dotted #c8cbcc;\r\n    line-height: 2;\r\n  }\r\n  .title{\r\n    text-align: left;\r\n    a{\r\n      padding:8px 0px 0px;\r\n      font-size: 15px;\r\n      display:inline-block;\r\n      color: $primary-color;\r\n      font-weight: 700;\r\n      height: 3em;\r\n      left: 1.2em;\r\n      text-decoration: none;\r\n\r\n    }\r\n  }\r\n  .group{\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: flex-end;\r\n    .price{\r\n      display: flex;\r\n      flex-direction: column;\r\n      font-family: $eng-font;\r\n      .ori_pricee{\r\n        text-align: left;\r\n        font-size: 12px;\r\n        color: #888;\r\n        text-decoration: line-through;\r\n      }\r\n      .sale_price {\r\n        color: #C54629;\r\n        font-weight: 700;\r\n        font-size: 16px;\r\n        text-align: left;\r\n      }\r\n    }\r\n  }\r\n}\r\n.control_bar{\r\n  line-height: 26px;\r\n  margin-bottom: 2px;\r\n  width: 8em;\r\n  display: flex;\r\n  align-items: flex-end;\r\n  .like a,.cart a{\r\n    display: inline-block;\r\n    line-height: 26px;\r\n    height: 26px;\r\n    width: 100%;\r\n    background-color: #aaa;\r\n    color: #fff !important;\r\n    border-radius: 4px;\r\n    transition: .3s;\r\n    &:hover{\r\n       background-color: #666;\r\n    }\r\n    &.active{\r\n      background-color: #d45744;\r\n      &:hover{\r\n       background-color: #c5321d;\r\n      }\r\n    }\r\n  }\r\n  .like{\r\n    flex: 2;\r\n  }\r\n  .cart{\r\n    flex: 3;\r\n    margin-left: 4px;\r\n    height: 26px;\r\n    a i{\r\n      font-size: 16px;\r\n      height: 26px;\r\n      line-height: 26px;\r\n    }\r\n  }\r\n  \r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Item.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Item.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Item.vue?vue&type=template&id=0d680f06&scoped=true&\"\nimport script from \"./Item.vue?vue&type=script&lang=js&\"\nexport * from \"./Item.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Item.vue?vue&type=style&index=0&id=0d680f06&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0d680f06\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"wrapper\">\r\n    <div class=\"banner\">\r\n      <img :src=\"banner\" alt=\"\">\r\n      <div class=\"title\">\r\n        <p>{{title}}</p>\r\n      </div>\r\n    </div>\r\n    <div class=\"filter_bar\">\r\n      <div class=\"sort\">\r\n          排序方式：\r\n        <select v-model=\"sort\" @change=\"sortList(sort)\">\r\n          <option value=\"1\">依上架時間（ 由新到舊 ）</option>\r\n          <option value=\"2\">由舊到新排列</option>\r\n          <option value=\"3\">價格高到低排列</option>\r\n          <option value=\"4\">價格低到高排列</option>\r\n        </select>\r\n      </div>\r\n      <div class=\"showHowMany\">\r\n        搜尋商品數量：\r\n        <span>{{list.length}}</span>筆\r\n      </div>\r\n    </div>\r\n    <div class=\"list\">\r\n      <div class=\"row\">\r\n        <div class=\"col-4\" v-for=\"item in list\" :key=\"item._id\">\r\n          <item @like=\"showToast($event)\" :commodity=\"item\"/>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"myToast\" v-if=\"toastContent_like\">\r\n      <p>已追蹤該商品</p>\r\n    </div>\r\n    <div class=\"myToast\" v-if=\"toastContent_dislike\">\r\n      <p>已取消追蹤</p>\r\n    </div>\r\n    <div class=\"myToast cart\" v-if=\"toastContent_cart\">\r\n      <p>已將商品加入購物車<br><span v-if=\"!$store.state.user._id\">提醒您：登入後才可保存購物車內的資料</span></p> \r\n    </div>\r\n    <div class=\"myToast noFadeOut\" v-if=\"toastContent_login\">\r\n      <p>登入後才可以追蹤商品喔</p>\r\n      <div class=\"group\">\r\n        <router-link to=\"/login\">前往登入</router-link>\r\n        <a href=\"javascript:;\" @click=\"toastContent_login = false\">繼續保持訪客狀態</a>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport item from '../components/Item'\r\nexport default {\r\n  props:{\r\n    banner:{\r\n      type:String\r\n    },\r\n    title:{\r\n      type:String\r\n    }\r\n  },\r\n  components:{\r\n    item\r\n  },\r\n  data(){\r\n    return {\r\n       list:[],\r\n       sort:1,\r\n       toastContent_like:false,\r\n       toastContent_dislike:false,\r\n       toastContent_cart:false,\r\n       toastContent_login:false\r\n    }\r\n  },\r\n  methods:{\r\n    sortList(sort){\r\n      switch(sort){\r\n        case '1':\r\n          this.list.sort((a,b)=>{\r\n            return a.create_time < b.create_time? 1:-1\r\n          })\r\n          break;\r\n        case '2':\r\n           this.list.sort((a,b)=>{\r\n            return a.create_time > b.create_time? 1:-1\r\n          })\r\n          break;\r\n        case '3':\r\n           this.list.sort((a,b)=>{\r\n            return a.sale_price < b.sale_price? 1:-1\r\n          })\r\n          break;\r\n        case '4':\r\n            this.list.sort((a,b)=>{\r\n            return a.sale_price > b.sale_price? 1:-1\r\n          })\r\n      }\r\n    },\r\n    showToast(e){\r\n      console.log(e)\r\n      if(e == 1){\r\n        this.toastContent_like = false;\r\n        this.toastContent_like = true;\r\n        setTimeout(()=>{\r\n        this.toastContent_like = false;\r\n        },1500)\r\n      }else if(e ==2){\r\n        this.toastContent_dislike = false;\r\n        this.toastContent_dislike = true;\r\n        setTimeout(()=>{\r\n        this.toastContent_dislike = false;\r\n        },1500)\r\n      }else if(e ==3){\r\n        this.toastContent_login = false;\r\n        this.toastContent_login = true;\r\n      }else{\r\n        this.toastContent_cart = false;\r\n        this.toastContent_cart = true;\r\n        setTimeout(()=>{\r\n        this.toastContent_cart = false;\r\n        },1500)\r\n      }\r\n    }\r\n  },\r\n  created(){\r\n    if(this.$route.name =='total'){\r\n      this.list =  this.$store.state.commodity\r\n    }else{\r\n      this.list = this.$store.getters[this.$route.name]\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '../assets/scss/_base.scss';\r\n.wrapper{\r\n  width: 100%;\r\n  font-family: $tw-font;\r\n  .row{\r\n    margin: -8px;\r\n  }\r\n  .col-4{\r\n    padding:8px;\r\n  }\r\n}\r\n.banner{\r\n  width: 100%;\r\n  padding-top: 35%;\r\n  position: relative;\r\n  img{\r\n    width: 100%;\r\n    height: 100%;\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    object-fit: cover;\r\n  }\r\n  .title{\r\n    width: 10em;\r\n    font-size: 28px;\r\n    background-color: rgba(63, 68, 109, 0.98);\r\n    box-shadow: 0px 2px 4px 1px rgba(0, 0, 0, 0.4);\r\n    position: absolute;\r\n    top: 13%;\r\n    left:-.8em;\r\n    font-weight: 500;\r\n    font-family: $tw-font; \r\n    letter-spacing: 6px;\r\n    &:after{\r\n      content:'';\r\n      border-right: .8em solid rgb(22, 23, 75);\r\n      border-top: .25em solid transparent;\r\n      // border-bottom: 1em solid #00f;\r\n      position: absolute;\r\n      top: -.25em;\r\n      left: 0;\r\n    }\r\n    p{\r\n      color: #fff;\r\n      line-height: 2.5em;\r\n      margin: 0;  \r\n      \r\n    }\r\n  }\r\n}\r\n.filter_bar{\r\n  padding: 20px 8px;\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  .sort,.showHowMany{\r\n    line-height: 34px;\r\n    font-size: 15px;\r\n    font-family: $tw-font;\r\n    color: #333;\r\n    letter-spacing: 1px;\r\n    select{\r\n      padding: 4px 8px;\r\n      color: #333;\r\n    }\r\n  }\r\n}\r\n\r\n//彈跳吐司\r\n.myToast{\r\n  position: fixed;\r\n  display: block;\r\n  top: 50%;\r\n  left: 50%;\r\n  z-index: 999;\r\n  transform: translate(-50%,-50%);\r\n  background-color: #282D41;\r\n  width: 320px;\r\n  height: 100px;\r\n  border-radius: 8px;\r\n  color: #fff;\r\n  font-size: 36px;\r\n  line-height: 100px;\r\n  animation: bound 1.5s;\r\n  opacity: 0;\r\n  &.noFadeOut{\r\n    animation: bound2 .3s;\r\n    opacity: 1;\r\n    font-size: 24px;\r\n    width: 360px;\r\n    height: 150px;\r\n    line-height: 1.5;\r\n    padding:20px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    a{text-decoration: none;margin-left: 1em;}\r\n    a:nth-of-type(1){\r\n      padding: 6px 14px;\r\n      border-radius: 4px;\r\n      background-color: rgba(255, 96, 11, 0.897);\r\n      font-weight: 500;\r\n      color: #fdfdfd;\r\n      font-size: 18px;\r\n      transition: .3s;\r\n      &:hover{\r\n         background-color: rgba(207, 77, 7);\r\n      }\r\n    }\r\n    a:nth-of-type(2){\r\n      padding: 4px 12px;\r\n      color: #ffefef;\r\n      font-size: 14px;\r\n      color: #ccc;\r\n      vertical-align: bottom;\r\n      transition: .3s;\r\n      &:hover{\r\n         color: #bbb;\r\n      }\r\n    }\r\n  }\r\n  &.cart{\r\n    font-size: 18px;\r\n    line-height: 1.5;\r\n    padding:20px;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    p{\r\n      margin: 0;\r\n      padding: 0;\r\n    }\r\n    span{\r\n      font-size: 14px;\r\n      color: #dedede;\r\n    }\r\n  }\r\n}\r\n@keyframes bound {\r\n  0%{\r\n    opacity: 0;\r\n  }\r\n  25%{\r\n    opacity: 1;\r\n  }\r\n  85%{\r\n    opacity: 1;\r\n  }\r\n  100%{\r\n    opacity: 0;\r\n  }\r\n}\r\n@keyframes bound2 {\r\n  0%{\r\n    opacity: 0;\r\n  }\r\n  100%{\r\n    opacity: 1;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./List.vue?vue&type=template&id=504a1c10&scoped=true&\"\nimport script from \"./List.vue?vue&type=script&lang=js&\"\nexport * from \"./List.vue?vue&type=script&lang=js&\"\nimport style0 from \"./List.vue?vue&type=style&index=0&id=504a1c10&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"504a1c10\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar aFunction = require('../internals/a-function');\nvar toObject = require('../internals/to-object');\nvar fails = require('../internals/fails');\nvar sloppyArrayMethod = require('../internals/sloppy-array-method');\n\nvar test = [];\nvar nativeSort = test.sort;\n\n// IE8-\nvar FAILS_ON_UNDEFINED = fails(function () {\n  test.sort(undefined);\n});\n// V8 bug\nvar FAILS_ON_NULL = fails(function () {\n  test.sort(null);\n});\n// Old WebKit\nvar SLOPPY_METHOD = sloppyArrayMethod('sort');\n\nvar FORCED = FAILS_ON_UNDEFINED || !FAILS_ON_NULL || SLOPPY_METHOD;\n\n// `Array.prototype.sort` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.sort\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? nativeSort.call(toObject(this))\n      : nativeSort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Item.vue?vue&type=style&index=0&id=0d680f06&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Item.vue?vue&type=style&index=0&id=0d680f06&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=style&index=0&id=504a1c10&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=style&index=0&id=504a1c10&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wow fadeIn\"},[_c('list',{attrs:{\"banner\":_vm.banner,\"title\":_vm.title}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"wow fadeIn\">\r\n    <list :banner=\"banner\" :title=\"title\"/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport list from '../../components/List'\r\nexport default {\r\n  components:{\r\n    list\r\n  },\r\n  data(){\r\n    return {\r\n      banner:'https://s3.envato.com/files/130035190/bookB.jpg',\r\n      title:'0~6歲幼兒繪本'\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Elementary.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Elementary.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Elementary.vue?vue&type=template&id=8a690448&\"\nimport script from \"./Elementary.vue?vue&type=script&lang=js&\"\nexport * from \"./Elementary.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}
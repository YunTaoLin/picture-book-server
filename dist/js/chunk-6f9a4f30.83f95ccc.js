(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6f9a4f30"],{"0676":function(t,i,s){},"14c3":function(t,i,s){var e=s("c6b6"),a=s("9263");t.exports=function(t,i){var s=t.exec;if("function"===typeof s){var n=s.call(t,i);if("object"!==typeof n)throw TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==e(t))throw TypeError("RegExp#exec called on incompatible receiver");return a.call(t,i)}},"3da4":function(t,i,s){t.exports=s.p+"img/fb666.5e51b1d3.png"},"51c6":function(t,i,s){t.exports=s.p+"img/pintere.b6290298.png"},5319:function(t,i,s){"use strict";var e=s("d784"),a=s("825a"),n=s("7b0b"),r=s("50c4"),o=s("a691"),c=s("1d80"),l=s("8aa5"),u=s("14c3"),d=Math.max,v=Math.min,h=Math.floor,p=/\$([$&'`]|\d\d?|<[^>]*>)/g,f=/\$([$&'`]|\d\d?)/g,m=function(t){return void 0===t?t:String(t)};e("replace",2,(function(t,i,s){return[function(s,e){var a=c(this),n=void 0==s?void 0:s[t];return void 0!==n?n.call(s,a,e):i.call(String(a),s,e)},function(t,n){var c=s(i,t,this,n);if(c.done)return c.value;var h=a(t),p=String(this),f="function"===typeof n;f||(n=String(n));var _=h.global;if(_){var g=h.unicode;h.lastIndex=0}var b=[];while(1){var k=u(h,p);if(null===k)break;if(b.push(k),!_)break;var C=String(k[0]);""===C&&(h.lastIndex=l(p,r(h.lastIndex),g))}for(var y="",x=0,w=0;w<b.length;w++){k=b[w];for(var $=String(k[0]),T=d(v(o(k.index),p.length),0),S=[],A=1;A<k.length;A++)S.push(m(k[A]));var I=k.groups;if(f){var L=[$].concat(S,T,p);void 0!==I&&L.push(I);var E=String(n.apply(void 0,L))}else E=e($,p,T,S,I,n);T>=x&&(y+=p.slice(x,T)+E,x=T+$.length)}return y+p.slice(x)}];function e(t,s,e,a,r,o){var c=e+t.length,l=a.length,u=f;return void 0!==r&&(r=n(r),u=p),i.call(o,u,(function(i,n){var o;switch(n.charAt(0)){case"$":return"$";case"&":return t;case"`":return s.slice(0,e);case"'":return s.slice(c);case"<":o=r[n.slice(1,-1)];break;default:var u=+n;if(0===u)return i;if(u>l){var d=h(u/10);return 0===d?i:d<=l?void 0===a[d-1]?n.charAt(1):a[d-1]+n.charAt(1):i}o=a[u-1]}return void 0===o?"":o}))}}))},"5d14":function(t,i,s){t.exports=s.p+"img/twtter.9727b10c.png"},6547:function(t,i,s){var e=s("a691"),a=s("1d80"),n=function(t){return function(i,s){var n,r,o=String(a(i)),c=e(s),l=o.length;return c<0||c>=l?t?"":void 0:(n=o.charCodeAt(c),n<55296||n>56319||c+1===l||(r=o.charCodeAt(c+1))<56320||r>57343?t?o.charAt(c):n:t?o.slice(c,c+2):r-56320+(n-55296<<10)+65536)}};t.exports={codeAt:n(!1),charAt:n(!0)}},"7db0":function(t,i,s){"use strict";var e=s("23e7"),a=s("b727").find,n=s("44d2"),r="find",o=!0;r in[]&&Array(1)[r]((function(){o=!1})),e({target:"Array",proto:!0,forced:o},{find:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),n(r)},8880:function(t,i,s){"use strict";var e=s("0676"),a=s.n(e);a.a},"8aa5":function(t,i,s){"use strict";var e=s("6547").charAt;t.exports=function(t,i,s){return i+(s?e(t,i).length:1)}},9263:function(t,i,s){"use strict";var e=s("ad6d"),a=RegExp.prototype.exec,n=String.prototype.replace,r=a,o=function(){var t=/a/,i=/b*/g;return a.call(t,"a"),a.call(i,"a"),0!==t.lastIndex||0!==i.lastIndex}(),c=void 0!==/()??/.exec("")[1],l=o||c;l&&(r=function(t){var i,s,r,l,u=this;return c&&(s=new RegExp("^"+u.source+"$(?!\\s)",e.call(u))),o&&(i=u.lastIndex),r=a.call(u,t),o&&r&&(u.lastIndex=u.global?r.index+r[0].length:i),c&&r&&r.length>1&&n.call(r[0],s,(function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(r[l]=void 0)})),r}),t.exports=r},ad6d:function(t,i,s){"use strict";var e=s("825a");t.exports=function(){var t=e(this),i="";return t.global&&(i+="g"),t.ignoreCase&&(i+="i"),t.multiline&&(i+="m"),t.dotAll&&(i+="s"),t.unicode&&(i+="u"),t.sticky&&(i+="y"),i}},c84b:function(t,i,s){"use strict";s.r(i);var e=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"detail"},[e("div",{staticClass:"container"},[e("div",{staticClass:"myBreadcrumb"},[e("router-link",{attrs:{to:"/"}},[t._v("首頁")]),e("span",{staticClass:"icon"},[t._v(">")]),e("router-link",{attrs:{to:"/commodity/"+t.classify_id}},[t._v(t._s(t.classify))]),e("span",{staticClass:"icon"},[t._v(">")]),e("span",[t._v(t._s(t.commodity.title))])],1),e("div",{staticClass:"row"},[e("div",{staticClass:"col-5"},[e("div",{staticClass:"side_bar"},[e("div",{staticClass:"pic"},[e("img",{attrs:{src:t.commodity.img,alt:"商品圖片"}})]),e("div",{staticClass:"share"},[t._v(" 分享： "),e("a",{attrs:{href:"https://www.facebook.com/dialog/feed?app_id=382498665271383&link="+t.link}},[e("img",{staticClass:"icon",attrs:{src:s("3da4"),alt:"fb"}})]),e("a",{attrs:{href:"https://www.facebook.com/dialog/send?app_id=382498665271383&display=popup&link="+t.link}},[e("img",{staticClass:"icon",attrs:{src:s("df45"),alt:"message"}})]),e("a",{attrs:{href:"https://plus.google.com/share?url="+t.link}},[e("img",{staticClass:"icon",attrs:{src:s("cebc"),alt:"google"}})]),e("a",{attrs:{href:"https://www.pinterest.com/pin/create/button/?url="+t.link}},[e("img",{staticClass:"icon",attrs:{src:s("51c6"),alt:"pintere"}})]),e("a",{attrs:{href:"https://twitter.com/intent/tweet?original_referer="+t.link}},[e("img",{staticClass:"icon",attrs:{src:s("5d14"),alt:"推特"}})]),e("div",{staticClass:"line-it-button",staticStyle:{display:"none"},attrs:{"data-type":"share-b","data-lang":"zh-Hant"}})])])]),e("div",{staticClass:"col-7"},[e("div",{staticClass:"main_bar"},[e("h1",[e("span",[t._v(t._s(t.commodity.title))])]),e("div",{staticClass:"group"},[e("div",{staticClass:"lik"},[e("span",[t._v(t._s(t.commodity.like.length))]),t._v(" 人追蹤")]),e("div",{staticClass:"sale"},[e("span",[t._v(t._s(t.commodity.sale))]),t._v(" 已售出")]),e("div",{staticClass:"time"},[t._v("上架日期："+t._s(new Date(t.commodity.last_time).toLocaleDateString()))])]),e("div",{staticClass:"price"},[e("span",[e("span",[t._v("原價:")]),t._v("$"+t._s(t.commodity.ori_price))]),e("span",[e("span",[t._v("NT")]),t._v("$"+t._s(t.commodity.sale_price))])]),e("div",{staticClass:"status"},[t._v(" 存貨狀況："),e("span",[t._v(t._s(t.status))])]),e("div",{staticClass:"freight"},[t._v(" 寄送時間："),e("span",[t._v(t._s(t.delivery))])]),e("div",{staticClass:"number"},[t._v(" 購買數量： "),e("div",{staticClass:"number_control"},[e("button",{attrs:{disabled:t.number<2},on:{click:function(i){t.number--}}},[t._v("-")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.number,expression:"number"}],attrs:{type:"number"},domProps:{value:t.number},on:{change:t.positive,input:function(i){i.target.composing||(t.number=i.target.value)}}}),e("button",{on:{click:function(i){t.number++}}},[t._v("+")])])]),e("div",{staticClass:"control_bar"},[e("div",{staticClass:"like"},[t.isLike?e("a",{class:{active:t.isLike},attrs:{href:"javascript:;",title:"取消追蹤"},on:{click:t.like}},[e("i",{staticClass:"fa fa-heart",attrs:{"aria-hidden":"true"}}),e("span",[t._v("取消追蹤")])]):e("a",{attrs:{href:"javascript:;",title:"追蹤商品"},on:{click:t.like}},[e("i",{staticClass:"fa fa-heart-o",attrs:{"aria-hidden":"true"}}),e("span",[t._v("追蹤商品")])])]),e("div",{staticClass:"cart"},[e("a",{attrs:{href:"javascript:;",title:"加入購物車"},on:{click:t.addCart}},[e("i",{staticClass:"fa fa-cart-plus",attrs:{"aria-hidden":"true"}}),t._v(" "),e("span",[t._v("加入購物車")])])])])])])]),e("div",{staticClass:"Introduction"},[e("h2",[t._v("商品介紹")]),e("hr"),e("div",{staticClass:"info",domProps:{innerHTML:t._s(t.info)}})])]),t.toastContent_like?e("div",{staticClass:"myToast"},[e("p",[t._v("已追蹤該商品")])]):t._e(),t.toastContent_dislike?e("div",{staticClass:"myToast"},[e("p",[t._v("已取消追蹤")])]):t._e(),t.toastContent_cart?e("div",{staticClass:"myToast cart"},[e("p",[t._v("已將商品加入購物車"),e("br"),t.$store.state.user._id?t._e():e("span",[t._v("提醒您：登入後才可保存購物車內的資料")])])]):t._e(),t.toastContent_login?e("div",{staticClass:"myToast noFadeOut"},[e("p",[t._v("登入後才可以追蹤商品喔")]),e("div",{staticClass:"group"},[e("router-link",{attrs:{to:"/login"}},[t._v("前往登入")]),e("a",{attrs:{href:"javascript:;"},on:{click:function(i){t.toastContent_login=!1}}},[t._v("繼續保持訪客狀態")])],1)]):t._e(),e("myFooter")],1)},a=[],n=(s("7db0"),s("e25e"),s("5319"),s("fd2d")),r={props:["id"],components:{myFooter:n["a"]},data:function(){return{link:window.location.href,number:1,isLike:!1,toastContent_like:!1,toastContent_dislike:!1,toastContent_cart:!1,toastContent_login:!1}},methods:{positive:function(){this.number=parseInt(this.number)<0?1:parseInt(this.number)},like:function(){this.$store.state.user._id?(this.isLike=!this.isLike,this.isLike?(this.showToast(1),this.$store.commit("addUserLike",this.commodity._id),this.$store.dispatch("a_like",{user:this.$store.state.user,commodity_id:this.commodity._id})):(this.showToast(2),this.$store.commit("removeUserLike",this.commodity._id),this.$store.dispatch("a_dislike",{user:this.$store.state.user,commodity_id:this.commodity._id}))):this.showToast(3)},showToast:function(t){var i=this;1==t?(this.toastContent_like=!1,this.toastContent_like=!0,setTimeout((function(){i.toastContent_like=!1}),1500)):2==t?(this.toastContent_dislike=!1,this.toastContent_dislike=!0,setTimeout((function(){i.toastContent_dislike=!1}),1500)):3==t?(this.toastContent_login=!1,this.toastContent_login=!0):(this.toastContent_cart=!1,this.toastContent_cart=!0,setTimeout((function(){i.toastContent_cart=!1}),1500))},addCart:function(){console.log("addcart"),this.$store.commit("addCart",{id:this.id,number:this.number,checked:!0}),localStorage.setItem("cart",JSON.stringify(this.$store.state.cart)),this.$store.state.user._id&&this.$store.dispatch("a_updateCart"),this.showToast(4)}},computed:{commodity:function(){var t=this;return this.$store.state.commodity.find((function(i){return i._id==t.id}))},classify:function(){var t="";switch(this.commodity.classify){case-1:t="當季特賣";break;case 0:t="幼兒繪本";break;case 1:t="兒童繪本";break;case 2:t="少年繪本";break;case 3:t="其他周邊"}return t},classify_id:function(){var t="";switch(this.commodity.classify){case-1:t="season";break;case 0:t="elementary";break;case 1:t="junior";break;case 2:t="senior";break;case 3:t="other";break}return t},status:function(){var t="";switch(this.commodity.status){case 0:t="現貨充足";break;case 1:t="預購商品";break;case 2:t="補貨中，需等待時間較長";break}return t},delivery:function(){var t="";switch(this.commodity.status){case 0:t="2~3個工作天";break;case 1:t="此為預購商品，需等待發售後2~3個工作天";break;case 2:t="需一周以上";break}return t},info:function(){return this.commodity.info.replace(/\n/g,"<br>")}},created:function(){var t=this;this.$store.state.user._id&&this.$store.state.user.like.some((function(i){return i==t.commodity._id}))&&(this.isLike=!0)}},o=r,c=(s("8880"),s("2877")),l=Object(c["a"])(o,e,a,!1,null,"e93e685e",null);i["default"]=l.exports},cebc:function(t,i,s){t.exports=s.p+"img/google.5d9e5a25.png"},d784:function(t,i,s){"use strict";var e=s("9112"),a=s("6eeb"),n=s("d039"),r=s("b622"),o=s("9263"),c=r("species"),l=!n((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),u=!n((function(){var t=/(?:)/,i=t.exec;t.exec=function(){return i.apply(this,arguments)};var s="ab".split(t);return 2!==s.length||"a"!==s[0]||"b"!==s[1]}));t.exports=function(t,i,s,d){var v=r(t),h=!n((function(){var i={};return i[v]=function(){return 7},7!=""[t](i)})),p=h&&!n((function(){var i=!1,s=/a/;return"split"===t&&(s={},s.constructor={},s.constructor[c]=function(){return s},s.flags="",s[v]=/./[v]),s.exec=function(){return i=!0,null},s[v](""),!i}));if(!h||!p||"replace"===t&&!l||"split"===t&&!u){var f=/./[v],m=s(v,""[t],(function(t,i,s,e,a){return i.exec===o?h&&!a?{done:!0,value:f.call(i,s,e)}:{done:!0,value:t.call(s,i,e)}:{done:!1}})),_=m[0],g=m[1];a(String.prototype,t,_),a(RegExp.prototype,v,2==i?function(t,i){return g.call(t,this,i)}:function(t){return g.call(t,this)}),d&&e(RegExp.prototype[v],"sham",!0)}}},df45:function(t,i,s){t.exports=s.p+"img/message666.df29ccf4.png"}}]);
//# sourceMappingURL=chunk-6f9a4f30.83f95ccc.js.map
{"version":3,"sources":["webpack:///./src/views/Search.vue?8460","webpack:///src/views/Search.vue","webpack:///./src/views/Search.vue?536d","webpack:///./src/views/Search.vue","webpack:///./node_modules/core-js/modules/es.array.index-of.js","webpack:///./src/views/Search.vue?e430"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","context","itemList","length","_l","item","key","_id","attrs","img","title","ori_price","sale_price","on","$event","dislike","addCart","_e","staticRenderFns","props","components","MyFooter","data","toastContent_cart","methods","$store","commit","id","number","checked","localStorage","setItem","dispatch","setTimeout","computed","state","commodity","filter","indexOf","component","$","$indexOf","sloppyArrayMethod","nativeIndexOf","NEGATIVE_ZERO","SLOPPY_METHOD","target","proto","forced","searchElement","apply","arguments","undefined"],"mappings":"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","file":"js/chunk-6567fbda.1b282d1c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search \"},[_c('div',{staticClass:\"container wow fadeIn\"},[_c('div',{staticClass:\"result\"},[_c('p',[_vm._v(\"搜尋：\"+_vm._s(_vm.context))]),_c('p',[_vm._v(\"找到 \"+_vm._s(_vm.itemList.length)+\" 筆搜尋結果\")])]),(_vm.itemList.length >0 )?_c('ul',_vm._l((_vm.itemList),function(item){return _c('li',{key:item._id},[_c('div',{staticClass:\"item\"},[_c('div',{staticClass:\"pic mr-3\"},[_c('router-link',{attrs:{\"to\":'/detail/'+item._id}},[_c('img',{attrs:{\"src\":item.img,\"alt\":\"商品圖片\"}})])],1),_c('div',{staticClass:\"info\"},[_c('div',{staticClass:\"title\"},[_c('router-link',{attrs:{\"to\":'/detail/'+item._id}},[_vm._v(_vm._s(item.title))])],1),_c('div',{staticClass:\"price\"},[_c('div',{staticClass:\"ori_pricee\"},[_vm._v(\" 原價：$ \"),_c('span',[_vm._v(_vm._s(item.ori_price))])]),_c('div',{staticClass:\"sale_price\"},[_vm._v(\" NT$ \"),_c('span',[_vm._v(_vm._s(item.sale_price))])])])]),_c('div',{staticClass:\"control_bar\"},[_c('a',{staticClass:\"delete\",attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.dislike(item._id)}}},[_c('i',{staticClass:\"fa fa-times\",attrs:{\"aria-hidden\":\"true\"}})]),_c('a',{staticClass:\"cart\",attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.addCart(item._id)}}},[_vm._v(\"加入購物車\")])])])])}),0):_c('div',{staticClass:\"nothing\"},[_c('h3',[_vm._v(\"空空如也，沒有任何收藏喔！\")]),_c('img',{attrs:{\"src\":\"https://i.loli.net/2019/07/29/5d3e11fb330b293931.png\",\"alt\":\"\"}})]),(_vm.toastContent_cart)?_c('div',{staticClass:\"myToast cart\"},[_c('p',[_vm._v(\"已將商品加入購物車\")])]):_vm._e()]),_c('MyFooter')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"search \">\r\n    <div class=\"container wow fadeIn\">\r\n      <div class=\"result\">\r\n        <p>搜尋：{{context}}</p>\r\n        <p>找到 {{itemList.length}} 筆搜尋結果</p>\r\n      </div>\r\n        <ul v-if=\"itemList.length >0 \">\r\n          <li v-for=\"item in itemList\" :key=\"item._id\">\r\n            <div class=\"item\">\r\n                <div class=\"pic mr-3\">\r\n                  <router-link :to=\"'/detail/'+item._id\">\r\n                  <img :src=\"item.img\" alt=\"商品圖片\">\r\n                  </router-link>\r\n                </div>\r\n\r\n              <div class=\"info\">\r\n                <div class=\"title\">\r\n                  <router-link :to=\"'/detail/'+item._id\">{{item.title}}</router-link>\r\n                </div>\r\n                <div class=\"price\">\r\n                  <div class=\"ori_pricee\">\r\n                    原價：$ <span>{{item.ori_price}}</span>\r\n                  </div>\r\n                  <div class=\"sale_price\">\r\n                    NT$ <span>{{item.sale_price}}</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"control_bar\">\r\n                <a href=\"javascript:;\" class=\"delete\" @click=\"dislike(item._id)\"><i class=\"fa fa-times\" aria-hidden=\"true\"></i></a>\r\n                <a href=\"javascript:;\" class=\"cart\" @click=\"addCart(item._id)\">加入購物車</a>\r\n              </div>\r\n            </div>\r\n          </li>\r\n        </ul>\r\n        <div class=\"nothing\" v-else >\r\n          <h3>空空如也，沒有任何收藏喔！</h3>\r\n          <img src=\"https://i.loli.net/2019/07/29/5d3e11fb330b293931.png\" alt=\"\">\r\n        </div>\r\n          <div class=\"myToast cart\" v-if=\"toastContent_cart\">\r\n          <p>已將商品加入購物車</p> \r\n        </div>\r\n    </div>\r\n    <MyFooter />\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport MyFooter from '@/components/Footer.vue'\r\nexport default {\r\n  props:['context'],\r\n  components: {\r\n    MyFooter\r\n  },\r\n  data(){\r\n    return {\r\n      toastContent_cart: false\r\n    }\r\n  },\r\n  methods:{\r\n    addCart(id){\r\n      //先更新本地端\r\n      this.$store.commit('addCart',{\r\n        id:id,\r\n        number:1,\r\n        checked:true\r\n      })\r\n      localStorage.setItem('cart',JSON.stringify(this.$store.state.cart))\r\n      //若有登入舊更新遠端\r\n      if(this.$store.state.user._id){\r\n        this.$store.dispatch('a_updateCart')\r\n      }\r\n      this.toastContent_cart = false;\r\n      this.toastContent_cart = true;\r\n      setTimeout(()=>{\r\n        this.toastContent_cart = false;\r\n      },1500)\r\n    }\r\n  },\r\n  computed:{\r\n    itemList(){\r\n      return this.$store.state.commodity.filter(item=>{\r\n        return item.title.indexOf(this.context) != -1\r\n      })\r\n    }\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '../assets/scss/_base.scss';\r\n.search{\r\n  margin-top: 200px;\r\n  font-family: $tw-font;\r\n  .container{\r\n    min-height: 50vh;\r\n  }\r\n  .result{\r\n    display: flex;\r\n    justify-content: space-between;\r\n  }\r\n  ul{\r\n    list-style: none;\r\n  }\r\n}\r\n\r\n//item 樣式\r\n.item{\r\n      width:100%;\r\n      background: #fdfdfd;\r\n      border:1px solid #dedede;\r\n      padding: 10px;\r\n      box-shadow: 0 1px 2px rgba(71,73,72,0.2);\r\n      margin-bottom: 10px;\r\n      display: flex;\r\n      // cursor: pointer;\r\n      .pic{\r\n        width: 17%;\r\n        padding-top: 17%;\r\n        position: relative;\r\n        img{\r\n          width: 100%;\r\n          height: 100%;\r\n          position: absolute;\r\n          top: 0;\r\n          left: 0;\r\n          object-fit: cover;\r\n        }\r\n      }\r\n      .title{\r\n        font-size: 15px;\r\n        font-weight: 500;\r\n        a{\r\n          text-decoration: none;\r\n          color: #000;\r\n        }\r\n      }\r\n      .info{\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: space-between;\r\n        align-items: flex-start;\r\n        font-family: $eng-font;\r\n        .ori_pricee{\r\n          text-align: left;\r\n          font-size: 12px;\r\n          color: #888;\r\n          text-decoration: line-through;\r\n        }\r\n        .sale_price {\r\n          color: red;\r\n          font-weight: 700;\r\n          font-size: 16px;\r\n          text-align: left;\r\n        }\r\n      }\r\n      .control_bar{\r\n        flex:1;\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: flex-end;\r\n        justify-content: space-between;\r\n        .delete{\r\n          color:#999;\r\n          font-size: 20px;\r\n          padding: 2px 4px;\r\n          transform: translate(2px,-8px)\r\n        }\r\n        .cart{\r\n          background-color: rgb(216, 60, 32);\r\n          color: #fff;\r\n          padding: 8px 24px;\r\n          text-decoration: none;\r\n          transition: .3s;\r\n          &:hover{\r\n            background-color: rgb(170, 45, 22);\r\n          }\r\n        }\r\n      }\r\n\r\n    }\r\n\r\n.nothing{\r\n  h3{\r\n    font-weight: 700;\r\n    margin: 20px 0;\r\n  }\r\n  img{\r\n    width: 40%;\r\n    object-fit: cover;\r\n  }\r\n}\r\n\r\n\r\n//彈跳吐司\r\n.myToast{\r\n  position: fixed;\r\n  display: block;\r\n  top: 50%;\r\n  left: 50%;\r\n  z-index: 999;\r\n  transform: translate(-50%,-50%);\r\n  background-color: #282D41;\r\n  width: 320px;\r\n  height: 100px;\r\n  border-radius: 8px;\r\n  color: #fff;\r\n  font-size: 36px;\r\n  line-height: 100px;\r\n  animation: bound 1.5s;\r\n  opacity: 0;\r\n  &.cart{\r\n    font-size: 18px;\r\n    line-height: 1.5;\r\n    padding:20px;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    p{\r\n      margin: 0;\r\n      padding: 0;\r\n    }\r\n    span{\r\n      font-size: 14px;\r\n      color: #dedede;\r\n    }\r\n  }\r\n}\r\n@keyframes bound {\r\n  0%{\r\n    opacity: 0;\r\n  }\r\n  25%{\r\n    opacity: 1;\r\n  }\r\n  85%{\r\n    opacity: 1;\r\n  }\r\n  100%{\r\n    opacity: 0;\r\n  }\r\n}\r\n@keyframes bound2 {\r\n  0%{\r\n    opacity: 0;\r\n  }\r\n  100%{\r\n    opacity: 1;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Search.vue?vue&type=template&id=2d673cc8&scoped=true&\"\nimport script from \"./Search.vue?vue&type=script&lang=js&\"\nexport * from \"./Search.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Search.vue?vue&type=style&index=0&id=2d673cc8&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2d673cc8\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar $indexOf = require('../internals/array-includes').indexOf;\nvar sloppyArrayMethod = require('../internals/sloppy-array-method');\n\nvar nativeIndexOf = [].indexOf;\n\nvar NEGATIVE_ZERO = !!nativeIndexOf && 1 / [1].indexOf(1, -0) < 0;\nvar SLOPPY_METHOD = sloppyArrayMethod('indexOf');\n\n// `Array.prototype.indexOf` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n$({ target: 'Array', proto: true, forced: NEGATIVE_ZERO || SLOPPY_METHOD }, {\n  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? nativeIndexOf.apply(this, arguments) || 0\n      : $indexOf(this, searchElement, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=style&index=0&id=2d673cc8&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=style&index=0&id=2d673cc8&lang=scss&scoped=true&\""],"sourceRoot":""}